<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>TALENTEX — Complete All-MCQ Exam System (80 MCQ, 4-options)</title>

<!-- MathJax for math rendering -->
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<style>
:root{
  --bg:#f3f6ff; --card:#ffffff; --accent:#0b5cff; --muted:#6b7280;
  --good:#16a34a; --bad:#ef4444; --shadow:0 12px 30px rgba(2,6,23,0.06); --radius:12px;
}
*{box-sizing:border-box}
body{ margin:0; font-family:Inter, Roboto, Arial, sans-serif; background:linear-gradient(180deg,#eef4ff,#fbfdff); color:#071027; padding:18px; display:flex; justify-content:center; }
.app{ width:100%; max-width:1180px; background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; border:1px solid rgba(11,92,255,0.04); }
.header{ display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; }
.brand{ font-size:18px; font-weight:700; }
.small{ font-size:13px; color:var(--muted) }
.controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
select,input{ padding:8px 10px; border-radius:8px; border:1px solid #e6eefc; background:#fff; }
button.primary{ background:var(--accent); color:#fff; border:none; padding:8px 12px; border-radius:8px; cursor:pointer; box-shadow:0 6px 18px rgba(11,92,255,0.08) }
button.ghost{ background:transparent; border:1px solid rgba(11,92,255,0.08); padding:8px 10px; border-radius:8px; cursor:pointer }
.tabbar{ display:flex; gap:8px; margin-top:12px; flex-wrap:wrap }
.tab{ padding:8px 12px; border-radius:8px; cursor:pointer; border:1px solid transparent; }
.tab.active{ background:#eef6ff; border-color:rgba(11,92,255,0.12); color:var(--accent) }

.layout{ display:grid; grid-template-columns: 1fr 360px; gap:14px; margin-top:12px; }
@media(max-width:980px){ .layout{ grid-template-columns:1fr } }

.card{ background:linear-gradient(180deg,#fff,#fbfdff); border-radius:10px; padding:12px; border:1px solid rgba(7,12,34,0.03); }
.question{ font-size:16px; font-weight:600; text-align:left; margin-bottom:8px }
.options{ display:flex; flex-direction:column; gap:8px; margin-bottom:10px }
.opt{ background:#f7fafc; border:1px solid #e6eefc; padding:10px; border-radius:8px; text-align:left; cursor:pointer; }
.opt.correct{ background:rgba(16,185,129,0.12); border-color:rgba(16,185,129,0.24) }
.opt.wrong{ background:rgba(255,99,132,0.08); border-color:rgba(239,68,68,0.16) }

.timer, .score { font-weight:700; color:var(--accent) }
.mock-questions{ max-height:520px; overflow:auto; padding-right:6px }
.mock-q{ padding:8px; border-radius:8px; background:#fafafb; border:1px solid #eef3ff; margin-bottom:8px }

.footer{ margin-top:12px; text-align:center; color:var(--muted); font-size:13px }

/* Print mode */
.print-mode .controls, .print-mode .tabbar, .print-mode .ghost, .print-mode .primary { display:none !important }
.print-mode .card{ box-shadow:none; border:none; background:transparent; padding:0 }
.print-mode .opt{ background:transparent; border:none; padding:4px 0 }
@media print {
  .controls, .tabbar, .ghost, .primary { display:none !important }
}

</style>
</head>
<body>
<div class="app" id="app">
  <div class="header">
    <div>
      <div class="brand">TALENTEX — All-MCQ Exam System (80 Qs, 4-options)</div>
      <div class="small">Subjects: Physics, Chemistry, Biology, Maths, IQ — Hard = Olympiad-level MCQs</div>
    </div>

    <div class="controls">
      <label class="small">Difficulty
        <select id="difficulty">
          <option value="easy">Easy</option><option value="medium" selected>Medium</option><option value="hard">Hard</option>
        </select>
      </label>

      <label class="small">Practice Subject
        <select id="practice-sub">
          <option value="all">All</option><option value="physics">Physics</option><option value="chemistry">Chemistry</option><option value="biology">Biology</option><option value="maths">Maths</option><option value="iq">IQ</option>
        </select>
      </label>

      <button class="primary" id="btn-new">New Practice Q</button>
      <button class="ghost" id="btn-print">Print Mode</button>
    </div>
  </div>

  <div class="tabbar" role="tablist" aria-label="tabs">
    <div class="tab active" data-tab="practice">Practice</div>
    <div class="tab" data-tab="mock">Mock Test</div>
    <div class="tab" data-tab="leaderboard">Leaderboard</div>
    <div class="tab" data-tab="analytics">Analytics</div>
    <div class="tab" data-tab="review">Review</div>
  </div>

  <div class="layout">
    <!-- main column -->
    <div>
      <!-- Practice -->
      <div id="tab-practice" class="card tabcontent">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>Practice Mode</strong> <span class="small"> — Instant explanation</span></div>
          <div class="small"><span class="timer" id="practice-timer">Time: --</span> &nbsp; <span class="score" id="practice-score">Score: 0</span></div>
        </div>

        <div style="margin-top:12px">
          <div class="question" id="practice-q">Click New Practice Q</div>
          <div id="practice-svg"></div>
          <div class="options" id="practice-options"></div>
          <div id="practice-expl" class="small">Explanation appears after answering.</div>
        </div>
      </div>

      <!-- Mock -->
      <div id="tab-mock" class="card tabcontent" style="display:none; margin-top:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>Mock Test Mode</strong> <div class="small">Generate 80 MCQ (16 per subject). Hard = Olympiad-type MCQs.</div></div>
          <div class="small">
            <label>Mock name <input id="mock-name" value="Mock-1" style="padding:6px;border-radius:6px;border:1px solid #e6eefc"/></label>
            <label> Duration (min) <input id="mock-duration" type="number" value="120" style="width:80px;padding:6px;border-radius:6px;border:1px solid #e6eefc"/></label>
          </div>
        </div>

        <div style="margin-top:10px; display:flex; gap:8px;">
          <button class="primary" id="btn-gen">Generate Mock</button>
          <button class="ghost" id="btn-start">Start Mock</button>
          <button class="ghost" id="btn-submit">Submit Mock</button>
          <button class="ghost" id="btn-export">Export Mock</button>
          <div style="margin-left:auto" class="small"><span id="mock-timer">Mock Timer: --</span> &nbsp; <span id="mock-score">Score: --</span></div>
        </div>

        <div id="mock-meta" class="small" style="margin-top:10px">No mock generated.</div>
        <div class="mock-questions" id="mock-questions" style="margin-top:10px"></div>
      </div>

      <!-- Leaderboard -->
      <div id="tab-leaderboard" class="card tabcontent" style="display:none; margin-top:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>Leaderboard (Local)</strong><div class="small">Only Mock Test results saved here.</div></div>
          <div><button class="ghost" id="btn-reset-lb">Reset</button></div>
        </div>
        <div id="leaderboard" style="margin-top:10px"></div>
      </div>

      <!-- Analytics -->
      <div id="tab-analytics" class="card tabcontent" style="display:none; margin-top:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>Analytics</strong><div class="small">Score history & subject accuracy from saved mocks.</div></div>
          <div><button class="ghost" id="btn-refresh-analytics">Refresh</button></div>
        </div>
        <div style="margin-top:12px">
          <canvas id="chart-scores" width="900" height="160" style="width:100%;border:1px solid #eef3ff;border-radius:8px"></canvas>
          <div style="height:12px"></div>
          <canvas id="chart-accuracy" width="900" height="160" style="width:100%;border:1px solid #eef3ff;border-radius:8px"></canvas>
        </div>
      </div>

      <!-- Review -->
      <div id="tab-review" class="card tabcontent" style="display:none; margin-top:12px">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>Review & Bookmarks</strong><div class="small">Saved mistakes and bookmarked questions</div></div>
          <div><button class="ghost" id="btn-clear-review">Clear</button></div>
        </div>
        <div id="review-list" style="margin-top:12px; max-height:520px; overflow:auto"></div>
      </div>
    </div>

    <!-- side column -->
    <div>
      <div class="card">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>Quick</strong></div>
          <div class="small">Status</div>
        </div>
        <div style="margin-top:8px">
          <div class="small">Practice Score: <span id="s-practice">0</span></div>
          <div class="small" style="margin-top:6px">Saved mocks: <span id="s-mock-count">0</span></div>
          <div class="small" style="margin-top:6px">Bookmarks: <span id="s-bookmarks">0</span></div>
        </div>
      </div>

      <div class="card" style="margin-top:10px">
        <strong>Shortcuts</strong>
        <div class="small" style="margin-top:8px">Ctrl/Cmd + N → New Practice Q</div>
        <div class="small">During mock: fill answers and Submit</div>
      </div>

      <div class="card" style="margin-top:10px">
        <strong>Notes</strong>
        <div class="small" style="margin-top:8px">All data is stored locally (localStorage). Clear to reset.</div>
      </div>
    </div>
  </div>

  <div class="footer">This file runs fully offline in the browser. Add more questions to the bank to grow the paper variety.</div>
</div>

<script>
/* ===========================
  Utilities & state
   =========================== */
const STATE = {
  practiceScore: 0,
  leaderboardKey: 'talentex_mcq_lb_v1',
  reviewKey: 'talentex_mcq_review_v1',
  mock: null,
  mockTimer: null,
  mockTimeLeft: 0,
  practiceTimer: null,
  practiceTimeLeft: 0,
  bookmarks: []
};

function rand(min,max){ return Math.floor(Math.random()*(max-min+1))+min }
function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]] } return arr }
function approx(x,d=2){ return Number.parseFloat(x).toFixed(d) }

/* Storage helpers */
function loadLB(){ return JSON.parse(localStorage.getItem(STATE.leaderboardKey) || '[]') }
function saveLB(lb){ localStorage.setItem(STATE.leaderboardKey, JSON.stringify(lb)) }
function loadReview(){ return JSON.parse(localStorage.getItem(STATE.reviewKey) || '[]') }
function saveReview(r){ localStorage.setItem(STATE.reviewKey, JSON.stringify(r)) }

/* ===========================
  Diagram helpers (small svgs)
   =========================== */
function circuitSVG(){ return `<svg width="220" height="70" viewBox="0 0 220 70" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="18" width="22" height="34" rx="4" fill="#fff" stroke="#0b5cff" stroke-width="2"/><text x="19" y="40" font-size="10" text-anchor="middle" fill="#0b5cff">BAT</text><line x1="30" y1="35" x2="80" y2="35" stroke="#0b5cff" stroke-width="2"/><rect x="80" y="25" width="36" height="20" fill="#fff" stroke="#0b5cff" stroke-width="2"/><text x="98" y="40" font-size="10" text-anchor="middle" fill="#0b5cff">R</text></svg>` }
function lensSVG(){ return `<svg width="220" height="80" viewBox="0 0 220 80" xmlns="http://www.w3.org/2000/svg"><line x1="110" y1="0" x2="110" y2="80" stroke="#0b5cff" stroke-width="3"/><circle cx="60" cy="45" r="6" fill="#0b5cff"/><line x1="60" y1="45" x2="110" y2="30" stroke="#0b5cff" stroke-width="2"/></svg>` }

/* ===========================
  QUESTION BANK
  - Each generator returns an object:
    { q: string, options: [4 strings], correct: string, explanation: string, svg?: string }
  - For HARD templates we do multi-concept numeric reasoning, but present single MCQ with 4 options.
   =========================== */

const BANK = {
  physics: {
    easy: [
      ()=>{ const h=rand(5,30); const t=approx(Math.sqrt(2*h/10)); return { q:`A body is dropped from height ${h} m. Time to hit ground? (g=10)`, options:[`${t} s`, `${(parseFloat(t)+0.5).toFixed(2)} s`, `${(Math.max(0,parseFloat(t)-0.5)).toFixed(2)} s`, `${(parseFloat(t)+1).toFixed(2)} s`], correct:`${t} s`, explanation:`t = √(2h/g).` } },
      ()=>{ const v=rand(10,28), t=rand(1,5); const s=approx(v*t); return { q:`If speed = ${v} m/s constant for ${t} s, distance travelled?`, options:[`${s} m`,`${(s+2)} m`,`${Math.max(0,s-2)} m`,`${(s+5)} m`], correct:`${s} m`, explanation:`s = v × t.` } },
      ()=>({ q:`Which device uses refraction to form image?`, options:['Lens','Mirror','Prism','Diffraction grating'], correct:'Lens', explanation:'Lenses refract light to form images.' }),
      ()=>{ const V=rand(6,24), R=rand(1,12); const I=approx(V/R); return { q:`Voltage ${V}V across ${R}Ω. Current?`, options:[`${I} A`, `${(parseFloat(I)+0.5).toFixed(2)} A`, `${(Math.max(0,parseFloat(I)-0.5)).toFixed(2)} A`, `${(parseFloat(I)+1).toFixed(2)} A`], correct:`${I} A`, explanation:'Ohm law.' } },
      ()=>({ q:`Which quantity is scalar?`, options:['Work','Force','Momentum','Acceleration'], correct:'Work', explanation:'Work is scalar; others are vector.' })
    ],
    medium: [
      ()=>{ const u=rand(10,30); const H=approx(u*u/(2*10)); return { q:`A body projected up with ${u} m/s. Max height? (g=10)`, options:[`${H} m`,`${(parseFloat(H)+5).toFixed(2)} m`,`${(parseFloat(H)-5).toFixed(2)} m`,`${(parseFloat(H)+10).toFixed(2)} m`], correct:`${H} m`, explanation:`H = u^2/(2g).` } },
      ()=>{ const I=rand(1,5), R=rand(2,20); const P=approx(I*I*R); return { q:`Power dissipated by ${R}Ω when ${I}A flows?`, options:[`${P} W`,`${(parseFloat(P)+5).toFixed(2)} W`,`${(parseFloat(P)-5).toFixed(2)} W`,`${(parseFloat(P)+10).toFixed(2)} W`], correct:`${P} W`, explanation:`P = I²R.` } },
      ()=>({ q:`Which wave requires a medium?`, options:['Sound','Light','X-ray','Gamma ray'], correct:'Sound', explanation:'Sound is mechanical; others electromagnetic.' }),
      ()=>{ const r=rand(3,8); const area=approx(Math.PI*r*r,2); return { q:`Area of circle radius ${r} cm (π≈3.1416)?`, options:[`${area} cm^2`,`${(parseFloat(area)+5).toFixed(2)} cm^2`,`${(parseFloat(area)-5).toFixed(2)} cm^2`,`${(parseFloat(area)+10).toFixed(2)} cm^2`], correct:`${area} cm^2`, explanation:'Area = π r².' } },
      ()=>({ q:`Which law gives universal gravitation?`, options:['Newton','Coulomb','Kepler','Hooke'], correct:'Newton', explanation:'Newton\'s law of gravitation.' })
    ],
    hard: [
      ()=>{ // projectile range variant - require multi-step mental solving
        const u=rand(20,40), a=rand(10,40); // angle in degrees
        const rad = a * Math.PI/180; const R = approx((u*u*Math.sin(2*rad)/10),2);
        // generate 3 distractors
        const opts = shuffle([`${R} m`, `${approx(R*0.5,2)} m`, `${approx(R*1.5,2)} m`, `${approx(Math.max(0,R-5),2)} m`])
        return { q:`A projectile launched at ${u} m/s at ${a}°. Range (g=10)?`, options:opts, correct:`${R} m`, explanation:`Range = u^2 sin2θ / g.` }
      },
      ()=>{ // combined lens equivalent focal length
        const f1=rand(8,20), f2=rand(8,20);
        const feq = approx((f1*f2)/(f1+f2),2);
        const opts = shuffle([`${feq} cm`, `${(feq+2).toFixed(2)} cm`, `${(feq-2).toFixed(2)} cm`, `${(feq*2).toFixed(2)} cm`])
        return { q:`Two thin lenses f1=${f1} cm and f2=${f2} cm in contact. Equivalent focal length?`, options:opts, correct:`${feq} cm`, explanation:`1/feq = 1/f1 + 1/f2 => feq = f1*f2/(f1+f2).`, svg:lensSVG() }
      },
      ()=>{ // rotational centripetal work-energy style reasoning
        const m=rand(1,5), v=rand(6,18), r=rand(2,6); const Fc = approx(m*v*v/r,2);
        const opts = shuffle([`${Fc} N`, `${(Fc+5).toFixed(2)} N`, `${Math.max(0,(Fc-5)).toFixed(2)} N`, `${(Fc*1.2).toFixed(2)} N`])
        return { q:`Mass ${m}kg moves in circle radius ${r}m at ${v}m/s. Centripetal force?`, options:opts, correct:`${Fc} N`, explanation:`Fc = m v² / r.` }
      },
      ()=>{ // electricity complicated: two resistors in parallel + series
        const r1=rand(5,30), r2=rand(5,30), r3=rand(5,30), V=rand(12,48);
        // e.g., r1||r2 in series with r3: Req = (r1*r2)/(r1+r2) + r3
        const req = approx((r1*r2)/(r1+r2) + r3,2);
        const Itot = approx(V/req,2);
        const opts = shuffle([`${Itot} A`, `${approx(Itot*1.2,2)} A`, `${approx(Math.max(0,Itot-1),2)} A`, `${approx(Itot+2,2)} A`])
        return { q:`Resistors ${r1}Ω & ${r2}Ω parallel, in series with ${r3}Ω across ${V}V. Total current?`, options:opts, correct:`${Itot} A`, explanation:`Compute R_eq of parallel, add series, then I = V/R_eq.`, svg:circuitSVG() }
      },
      ()=>{ // thermodynamics approximate: specific heat
        const m=rand(1,5), c=rand(400,1000), dt=rand(10,30);
        const Q = approx(m*c*dt,2);
        const opts = shuffle([`${Q} J`, `${approx(Q/2,2)} J`, `${approx(Q*1.2,2)} J`, `${approx(Math.max(0,Q-100),2)} J`])
        return { q:`${m} kg substance (c ≈ ${c} J/kg·K) heated by ${dt}K. Heat energy Q?`, options:opts, correct:`${Q} J`, explanation:`Q = m c ΔT.` }
      }
    ]
  },

  chemistry: {
    easy: [
      ()=>({ q:`pH of neutral solution at 25°C?`, options:['7','0','14','1'], correct:'7', explanation:'Neutral pH = 7.' }),
      ()=>({ q:`Which gas evolves on reacting baking soda with acid?`, options:['CO2','O2','N2','H2'], correct:'CO2', explanation:'Acid-carbonate reaction produces CO2.' }),
      ()=>({ q:`Which is an amphoteric oxide?`, options:['Al2O3','CO2','SO2','Na2O'], correct:'Al2O3', explanation:'Al2O3 reacts with both acids and bases.' }),
      ()=>({ q:`Valency of oxygen (normally)`, options:['2','1','3','0'], correct:'2', explanation:'Oxygen typically forms 2 bonds.' }),
      ()=>({ q:`What is an ion?`, options:['Charged atom','Neutral atom','Molecule','Electron'], correct:'Charged atom', explanation:'Ion = charged particle.' })
    ],
    medium: [
      ()=>({ q:`If pH changes 3→6, [H+] changes by factor?`, options:['1000','100','10','3'], correct:'1000', explanation:'pH unit = 10x, so 10^3 = 1000.' }),
      ()=>({ q:`Which reaction type: AB → A + B?`, options:['Decomposition','Combination','Displacement','Redox'], correct:'Decomposition', explanation:'Compound breaks down.' }),
      ()=>{ const m1=rand(1,5), m2=rand(1,5); return { q:`Which has metallic bonding?`, options:['Metals','Nonmetals','Ionic compounds','Gases'], correct:'Metals', explanation:'Metals have delocalized electrons.' } },
      ()=>({ q:`Electrolysis of molten NaCl yields?`, options:['Na metal and Cl2','NaOH and H2','H2 and Cl2','Na and O2'], correct:'Na metal and Cl2', explanation:'Cathode: Na+, Anode: Cl-.' }),
      ()=>({ q:`Which solvent is polar?`, options:['Water','Hexane','Benzene','Oil'], correct:'Water', explanation:'Water is highly polar.' })
    ],
    hard: [
      ()=>{ // limiting reagent numeric phrased as MCQ
        const a=rand(2,8), b=rand(2,8);
        // reaction 2A + 3B -> product
        const needB = 3/2 * a;
        const limiting = (b < needB) ? 'B' : 'A';
        const opts = shuffle([limiting, (limiting==='A'?'B':'A'), 'Both', 'Cannot tell']);
        return { q:`In 2A + 3B → products, if ${a} mol A and ${b} mol B present, limiting reagent?`, options:opts, correct:limiting, explanation:`Compute required B = (3/2)×A; compare with available B.` }
      },
      ()=>{ // equilibrium approximate choose correct shift: Le Chatelier conceptual
        return { q:`If pressure is increased for N2 + 3H2 ⇌ 2NH3, equilibrium shifts?`, options:['To right','To left','No change','Impossible'], correct:'To right', explanation:'Higher pressure favours fewer gas molecules (product).' } },
      ()=>{ // titration concentration calc
        const V1=25, M1=0.1,
